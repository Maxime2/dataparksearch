<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Database schema</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="DataparkSearch Engine 4.54"
HREF="index.en.html"><LINK
REL="UP"
TITLE="Miscellaneous"
HREF="dpsearch-misc.en.html"><LINK
REL="PREVIOUS"
TITLE="Using libdpsearch library"
HREF="dpsearch-lib.en.html"><LINK
REL="NEXT"
TITLE="Donations"
HREF="dpsearch-donations.en.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="datapark.css"><META
NAME="Description"
CONTENT="DataparkSearch - Full Featured Web site Open Source Search Engine Software over the Internet and Intranet Web Sites Based on SQL Database. It is a Free search software covered by GNU license."><META
NAME="Keywords"
CONTENT="shareware, freeware, download, internet, unix, utilities, search engine, text retrieval, knowledge retrieval, text search, information retrieval, database search, mining, intranet, webserver, index, spider, filesearch, meta, free, open source, full-text, udmsearch, website, find, opensource, search, searching, software, udmsearch, engine, indexing, system, web, ftp, http, cgi, php, SQL, MySQL, database, php3, FreeBSD, Linux, Unix, DataparkSearch, MacOS X, Mac OS X, Windows, 2000, NT, 95, 98, GNU, GPL, url, grabbing"><META
NAME="viewport"
CONTENT="width=device-width, initial-scale=1"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000C4"
VLINK="#1200B2"
ALINK="#C40000"
><!--#include virtual="body-before.html"--><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>DataparkSearch Engine 4.54: Reference manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="dpsearch-lib.en.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 9. Miscellaneous</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="dpsearch-donations.en.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="DBSCHEMA"
>9.3. Database schema</A
></H1
><A
NAME="AEN6543"
></A
><P
>Full database schema used by <SPAN
CLASS="APPLICATION"
>DataparkSearch</SPAN
>
is defined in appropriate sql-scipts for database creation located under <TT
CLASS="FILENAME"
>create</TT
> subdirectory.

<DIV
CLASS="TABLE"
><A
NAME="DB-SERVER"
></A
><P
><B
>Table 9-1. <CODE
CLASS="VARNAME"
>server</CODE
> table schema</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><TBODY
><TR
><TD
><CODE
CLASS="VARNAME"
>rec_id</CODE
></TD
><TD
>Unique record identificator.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>enabled</CODE
></TD
><TD
>A flag to enable/disable record for <B
CLASS="COMMAND"
>indexer</B
>.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>url</CODE
></TD
><TD
>URL or pattern.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>tag</CODE
></TD
><TD
>Tag value.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>category</CODE
></TD
><TD
><TT
CLASS="LITERAL"
>Categories</TT
> table rec_id.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>command</CODE
></TD
><TD
><P
>=S - this record is a <CODE
CLASS="VARNAME"
>server</CODE
>.</P
>
<P
>=F - this record is a <CODE
CLASS="VARNAME"
>filter</CODE
>.</P
></TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>ordre</CODE
></TD
><TD
>Sorting key, it define records order for <CODE
CLASS="VARNAME"
>server</CODE
> table loading.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>parent</CODE
></TD
><TD
>If not null, this record is added automaticaly by <B
CLASS="COMMAND"
>indexer</B
> and
<CODE
CLASS="VARNAME"
>url</CODE
> field contain a server name accepted on record pointed by this filed value.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>weight</CODE
></TD
><TD
>This record weight for PopRank calculation.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>pop_weight</CODE
></TD
><TD
>One link weight from pages of this server.
Calculated automatically. Manually change will have no effect.</TD
></TR
></TBODY
></TABLE
></DIV
></P
><P
>Other server's parameters store in <CODE
CLASS="VARNAME"
>srvinfo</CODE
> table. Possible values for several parameters is
given in table below.

<DIV
CLASS="TABLE"
><A
NAME="DB-SRVINFO"
></A
><P
><B
>Table 9-2. Several server's parameters values in <CODE
CLASS="VARNAME"
>srvinfo</CODE
> table</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><THEAD
><TR
><TH
><CODE
CLASS="VARNAME"
>sname</CODE
> value</TH
><TH
>Possible <CODE
CLASS="VARNAME"
>sval</CODE
> values.</TH
></TR
></THEAD
><TBODY
><TR
><TD
><CODE
CLASS="VARNAME"
>Alias</CODE
></TD
><TD
>Alias used for <CODE
CLASS="VARNAME"
>url</CODE
>.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>Period</CODE
></TD
><TD
>Reindexing period in seconds.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>DeleteOlder</CODE
></TD
><TD
>How much time to hold URLs before deleting them from the database.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>RemoteCharset</CODE
></TD
><TD
>Default charset value.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>DefaultLang</CODE
></TD
><TD
>Default language value.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>Request.Authorization</CODE
></TD
><TD
>For basic authorization.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>Request.Proxy</CODE
></TD
><TD
>Proxy server to access documents from this resource.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>Request.Proxy-Authorization</CODE
></TD
><TD
>Proxy server authorization.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>MaxHops</CODE
></TD
><TD
>Maximum depth of way in "mouse" clicks from start url.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>Index</CODE
></TD
><TD
>A flag to enable/disable documents indexing.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>Follow</CODE
></TD
><TD
><P
>=0, "page"</P
>
<P
>=1, "path"</P
>
<P
>=2, "site"</P
>
<P
>=3, "world"</P
></TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>Robots</CODE
></TD
><TD
>A flag to enable/disable <TT
CLASS="FILENAME"
>robots.txt</TT
> file using.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>DetectClones</CODE
></TD
><TD
>A flag to enable/disable &quot;clones&quot; detection.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>MaxNetErrors</CODE
></TD
><TD
>Maximum network errors for this server.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>NetDelayTime</CODE
></TD
><TD
>Indexing delay time if a network error is occurred.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>ReadTimeout</CODE
></TD
><TD
>Network timeout value.</TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>match_type</CODE
></TD
><TD
><P
>=0, DPS_MATCH_FULL - full coincidence.</P
>
<P
>=1, DPS_MATCH_BEGIN - pattern is a URL prefix.</P
>
<P
>=2, DPS_MATCH_SUBSTR - pattern is a URL substring.</P
>
<P
>=3, DPS_MATCH_END - pattern is a URL suffix.</P
>
<P
>=4, DPS_MATCH_REGEX - pattern is a regular expression.</P
>
<P
>=5, DPS_MATCH_WILD - pattern is a wildcards pattern (* and ? wildcards may be used).</P
>
<P
>=6, DPS_MATCH_SUBNET - &lt; not yet supported &gt;.</P
></TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>case_sense</CODE
></TD
><TD
><P
>=1, - case insensitive comparison.</P
>
<P
>=0, - case sensitive comparison.</P
></TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>nomatch</CODE
></TD
><TD
><P
>=1, - URLs not match this record is accepted.</P
>
<P
>=0, - URL match this record is accepted.</P
></TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>Method</CODE
></TD
><TD
><P
>Specify a document action for this command.</P
>
<P
>=Allow, - all corresponding documents will be indexed and scanned for new links.</P
>
<P
>=Disallow, - all corresponding documents will be ignored and deleted from database.</P
>
<P
>=HrefOnly, - all corresponding documents will be only scanned for new links (not indexed).</P
>
<P
>=CheckOnly, - all corresponding documents will be requested by HTTP HEAD request, not HTTP GET,
i.e. inly brief info about documents (size, last modified, content type) will be fetched.</P
>
<P
>=Skip, - all corresponding documents will be skipped while indexing.</P
>
<P
>=CheckMP3, - all corresponding documents will be checked for MP3 tags along if its Content-Type is equal to audio/mpeg.</P
>
<P
>=CheckMP3Only, - is equal to CheckMP3, but if MP3 tag is not present, processing on Content-Type will not be taken.</P
>
<P
>=TagIf, - all documents will be maked by tag specified.</P
>
<P
>=CategoryIf, - all documents will be maked by category specified.</P
>
<P
>=IndexIf, - all documents will be indexed, if the value of section specified match the pattern given.</P
>
<P
>=NoIndexIf, - all documents will be ignored and deleted from database, if the value of section specified match the pattern given.</P
></TD
></TR
><TR
><TD
><CODE
CLASS="VARNAME"
>Section</CODE
></TD
><TD
><P
>Section name used in pattern matching for IndexIf and NotIndexIf methods.</P
></TD
></TR
></TBODY
></TABLE
></DIV
></P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="dpsearch-lib.en.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.en.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="dpsearch-donations.en.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Using <TT
CLASS="LITERAL"
>libdpsearch</TT
> library</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="dpsearch-misc.en.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Donations</TD
></TR
></TABLE
></DIV
><!--#include virtual="body-after.html"--></BODY
></HTML
>
