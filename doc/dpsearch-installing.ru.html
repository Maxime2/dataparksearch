<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Инсталяция DataparkSearch&#13;</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="DataparkSearch Engine 4.54"
HREF="index.ru.html"><LINK
REL="UP"
TITLE="Установка

        "
HREF="dpsearch-install.ru.html"><LINK
REL="PREVIOUS"
TITLE="Инструментарий, необходимый для установки"
HREF="dpsearch-toolsreq.ru.html"><LINK
REL="NEXT"
TITLE="Возможные проблемы установки
"
HREF="dpsearch-installproblem.ru.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="datapark.css"><META
NAME="Description"
CONTENT="DataparkSearch - Полнофункциональная поисковая машина для Интернета и Интранета с открытым исходным кодом. Распространяется по лицензии GNU."><META
NAME="Keywords"
CONTENT="shareware, freeware, интернет, unix, поисковик, поисковая машина, поиск, поиск информации, интранет, open source, opensource, search, searching, software, udmsearch, engine, indexing, system, web, ftp, http, cgi, php, SQL, MySQL, database, php3, FreeBSD, Linux, Unix, DataparkSearch, MacOS X, Mac OS X, Windows, 2000, NT, 95, 98, GNU, GPL, url, grabbing"><META
NAME="viewport"
CONTENT="width=device-width, initial-scale=1"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000C4"
VLINK="#1200B2"
ALINK="#C40000"
><!--#include virtual="body-before.html"--><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>DataparkSearch Engine 4.54: Справочное руководство</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="dpsearch-toolsreq.ru.html"
ACCESSKEY="P"
>&#1055;&#1088;&#1077;&#1076;.</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>&#1043;&#1083;&#1072;&#1074;&#1072; 2. Установка
<A
NAME="AEN179"
></A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="dpsearch-installproblem.ru.html"
ACCESSKEY="N"
>&#1057;&#1083;&#1077;&#1076;.</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="INSTALLING"
>2.4. Инсталяция <SPAN
CLASS="APPLICATION"
>DataparkSearch</SPAN
>
<A
NAME="AEN318"
></A
></A
></H1
><P
></P
><OL
TYPE="1"
><LI
><P
>Разархивируйте дистрибутив и перейдите а корневую директорию распакованного дерева исходников.</P
><P
>					<KBD
CLASS="USERINPUT"
>tar -xyf dpsearch-x.x.tar.bz2</KBD
>
				</P
></LI
><LI
><P
>Для упрощения процесса конфигурирования мы добавили скрипт конфигурации
<TT
CLASS="FILENAME"
>install.pl</TT
>. Запустите <TT
CLASS="FILENAME"
>install.pl</TT
>
и отвечая на вопросы, выберите нужную конфигурацию <SPAN
CLASS="APPLICATION"
>DataparkSearch</SPAN
>
После того, как вы выберите все опции, этот скрипт запустит <TT
CLASS="LITERAL"
>./configure</TT
> с выбранными вами ключами.
Он также создаст файл <TT
CLASS="FILENAME"
>create install.options</TT
>
содержащий ваши настройки, которые будут использованы при следующих запусках этого скрипта.
После того, как процесс конфигурирования будет завершен, создайте и проинсталируйте <SPAN
CLASS="APPLICATION"
>DataparkSearch</SPAN
>
как описано в разделе 3.</P
><P
>В случае, если вы желаете сконфигурировать <SPAN
CLASS="APPLICATION"
>DataparkSearch</SPAN
>
вручную без использования скрипта конфигурирования, проделайте следующие шаги:</P
><P
>Если нужна поддержка SQL базы данных:</P
><P
>					<KBD
CLASS="USERINPUT"
>sh$ ./configure --with-mysql</KBD
>
				</P
><P
>или</P
><P
>					<KBD
CLASS="USERINPUT"
>sh$ ./configure --with-pgsql</KBD
>
				</P
><P
>или другим ключом, соответствующим выбраной базе данных,</P
><P
>или с несколькими базами:</P
><P
>					<KBD
CLASS="USERINPUT"
>sh$ ./configure --with-mysql --with-pgsql --with-msql --with-freetds</KBD
>
				</P
><P
>По умолчанию, <SPAN
CLASS="APPLICATION"
>DataparkSearch</SPAN
> устанавливается в директорию
<TT
CLASS="LITERAL"
>/usr/local/dpsearch</TT
> и поддериктории:</P
><DIV
CLASS="INFORMALTABLE"
><P
></P
><A
NAME="AEN349"
></A
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><TBODY
><TR
><TD
>Поддиректория</TD
><TD
>Содержимое</TD
></TR
><TR
><TD
>bin</TD
><TD
>									<TT
CLASS="FILENAME"
>search.cgi</TT
>, <TT
CLASS="FILENAME"
>storedoc.cgi</TT
>, <TT
CLASS="FILENAME"
>dps-config</TT
>
								</TD
></TR
><TR
><TD
>lib</TD
><TD
>									<TT
CLASS="FILENAME"
>libdpsearch.a(so)</TT
>,
									<TT
CLASS="FILENAME"
>libdpcharset.a(so)</TT
>
								</TD
></TR
><TR
><TD
>sbin</TD
><TD
>									<TT
CLASS="FILENAME"
>indexer</TT
>, <TT
CLASS="FILENAME"
>cached</TT
>,
<TT
CLASS="FILENAME"
>run-splitter</TT
>,
<TT
CLASS="FILENAME"
>searchd</TT
>, <TT
CLASS="FILENAME"
>splitter</TT
>, <TT
CLASS="FILENAME"
>stored</TT
>
								</TD
></TR
><TR
><TD
>etc</TD
><TD
>									<TT
CLASS="FILENAME"
>indexer.conf-dist, search.htm-dist</TT
>,
<TT
CLASS="FILENAME"
>langmap.conf-dist</TT
>,
<TT
CLASS="FILENAME"
>searchd.conf-dist</TT
>,
<TT
CLASS="FILENAME"
>stopwords.conf-dist</TT
>,
<TT
CLASS="FILENAME"
>stored.conf-dist</TT
>, <TT
CLASS="FILENAME"
>storedoc.htm-dist</TT
>
								</TD
></TR
><TR
><TD
>share</TD
><TD
>Документация и sql-скрипты</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
><P
>Если у вас нет прав для создания этой директории, или вы хотите установить
<SPAN
CLASS="APPLICATION"
>DataparkSearch</SPAN
> в другую директорию, используйте для <B
CLASS="COMMAND"
>configure</B
> ключ
<CODE
CLASS="OPTION"
>--prefix</CODE
>,
например,</P
><P
>					<KBD
CLASS="USERINPUT"
>./configure --prefix=/user/home/data --with-mysql</KBD
>
				</P
><P
>Для установки <SPAN
CLASS="APPLICATION"
>DataparkSearch</SPAN
> с поддержкой HTTPS,
используйте следующий ключ для <B
CLASS="COMMAND"
>configure</B
>:</P
><P
>					<KBD
CLASS="USERINPUT"
>./configure --with-https=PKG</KBD
>
				</P
><P
>где значение PKG - одно из auto (по умолчанию), <A
HREF="https://www.openssl.org/"
TARGET="_top"
>openssl</A
>, <A
HREF="https://www.wolfssl.com/"
TARGET="_top"
>wolfssl</A
> и <A
HREF="https://tls.mbed.org/"
TARGET="_top"
>mbedtls</A
>.</P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>&#1047;&#1072;&#1084;&#1077;&#1095;&#1072;&#1085;&#1080;&#1077;: </B
>Пожалуйста, имейте в виду, что необходимо заранее устрановить соответсвующий пакет разработчика.</P
></BLOCKQUOTE
></DIV
><P
>Вы можете видеть все ключи, запустив <TT
CLASS="LITERAL"
>./configure --help</TT
>
				</P
><P
>Если вы хотите передать для компилятора C некоторые специфицеские ключи
(например, <TT
CLASS="LITERAL"
>'-O7 -mpentium'</TT
> создания оптимизированного кода под процессор
<SPAN
CLASS="TRADEMARK"
>Pentium</SPAN
>&#8482;, если используется компилятор egcs/pgcc), это можно сделать при помощи следующей команды</P
><P
>					<KBD
CLASS="USERINPUT"
>sh$  CFLAGS="-O7 -mpentium"</KBD
>
				</P
><P
>					<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>до</I
></SPAN
> запуска <B
CLASS="COMMAND"
>configure</B
>.</P
><P
>Для компиляции <SPAN
CLASS="APPLICATION"
>DataparkSearch</SPAN
> под <SPAN
CLASS="APPLICATION"
>FreeBSD</SPAN
>
с поддержкой <TT
CLASS="LITERAL"
>Solid</TT
> в старом aout формате, используйте</P
><P
>					<KBD
CLASS="USERINPUT"
>sh$ CFLAGS="-aout"</KBD
>
				</P
><P
>					<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>до</I
></SPAN
> запуска <B
CLASS="COMMAND"
>configure</B
>.</P
><P
>Для компиляции <SPAN
CLASS="APPLICATION"
>DataparkSearch</SPAN
> под <SPAN
CLASS="APPLICATION"
>FreeBSD</SPAN
>
с aout InterBase используйте</P
><P
>					<KBD
CLASS="USERINPUT"
>sh$ CFLAGS="-aout -static"</KBD
>
				</P
><P
>					<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>до</I
></SPAN
> запуска <B
CLASS="COMMAND"
>configure</B
>.</P
><P
>Вы можете также указать <CODE
CLASS="OPTION"
>--enable-pthreads</CODE
>
				для компиляции многопоточной версии <B
CLASS="COMMAND"
>indexer</B
>.</P
><P
><A
NAME="AEN435"
></A
>
Для включения поддержки <A
HREF="http://sourceforge.net/projects/dmalloc/"
TARGET="_top"
>отладчика памяти DMALLOC</A
>
используйте ключ <CODE
CLASS="OPTION"
>--enable-dmalloc</CODE
>. </P
><P
>Кодировки euc-kr, big5, gb2312, tscii, gujarati и shift-jis не поддерживаются по умолчанию.
Для включения поддержки используйте ключ <CODE
CLASS="OPTION"
>--with-extra-charsets</CODE
>.</P
><P
>Для включения поддержки всех кодовых страниц, используйте:</P
><P
>					<KBD
CLASS="USERINPUT"
>./configure --with-extra-charsets=all</KBD
>
				</P
><P
>Для включения поддержки только какой-то одной кодовой страницы:</P
><P
>					<KBD
CLASS="USERINPUT"
>./configure --with-extra-charsets=tscii</KBD
>
				</P
><P
>Для включения поддержки семейства кодировок китайского или японского языков:</P
><P
>					<KBD
CLASS="USERINPUT"
>./configure --with-extra-charsets=chinese</KBD
>
или
					<KBD
CLASS="USERINPUT"
>./configure --with-extra-charsets=japanese</KBD
>
				</P
><P
>Чтобы включить поддержку нескольких нужных кодовых страниц, указывайте их через запятую:</P
><P
>					<KBD
CLASS="USERINPUT"
>./configure --with-extra-charset=chinese,gujarati</KBD
>
				</P
><P
>Если у вас возникли трудности с конфигурированием, пожалуйста, смотрите <A
HREF="dpsearch-installproblem.ru.html"
>&#1056;&#1072;&#1079;&#1076;. 2.5</A
>&#62;.</P
></LI
><LI
><P
>Скомпилируйте и установите <SPAN
CLASS="APPLICATION"
>DataparkSearch</SPAN
>.</P
><P
>					<KBD
CLASS="USERINPUT"
>sh$ make</KBD
>
				</P
><P
>					<KBD
CLASS="USERINPUT"
>sh$ make install</KBD
>
				</P
><P
>Если у вас возникли трудности с компиляцией, пожалуйста, смотрите <A
HREF="dpsearch-installproblem.ru.html"
>&#1056;&#1072;&#1079;&#1076;. 2.5</A
>&#62;.</P
></LI
><LI
><P
>Создайте базу данных <TT
CLASS="LITERAL"
>search</TT
> (только для SQL баз данных).</P
><P
>Вы можете использовать существующую базу данных, в этом случае пропустите этот пункт.</P
><P
>MySQL:</P
><P
>					<KBD
CLASS="USERINPUT"
>sh$ mysqladmin create search</KBD
>
				</P
><P
>PostgreSQL:</P
><P
>					<KBD
CLASS="USERINPUT"
>sh$ createdb search</KBD
>
				</P
><P
>Для других баз данных см. документацию на соответствующую базу данных.</P
></LI
><LI
><P
>Создайте файлы конфигурации.</P
><P
>Для этого в директории конфигурационных файлов ( по умолчанию это <TT
CLASS="FILENAME"
>/usr/local/dpsearch/etc/</TT
>) скопируйте <TT
CLASS="FILENAME"
>indexer.conf-dist</TT
>
в <TT
CLASS="FILENAME"
>indexer.conf</TT
> и <TT
CLASS="FILENAME"
>search.htm-dist</TT
> в <TT
CLASS="FILENAME"
>search.htm</TT
>. Затем отредактируйте <TT
CLASS="FILENAME"
>indexer.conf</TT
> и <TT
CLASS="FILENAME"
>search.htm</TT
>
согласно вашим потребностям. В основном вам необходимо только отредактировать команду <B
CLASS="COMMAND"
>DBAddr</B
> в обоих файлах указав соединение с SQL-сервером и необходимый dbmode.</P
></LI
><LI
><P
>Создайте sql-таблицы</P
><P
>Выполните команду:</P
><P
><KBD
CLASS="USERINPUT"
>sh$ indexer -Ecreate</KBD
></P
><P
><B
CLASS="COMMAND"
>indexer</B
> автоматически создаст все нужные таблицы согласно dbmode, указанному в <TT
CLASS="FILENAME"
>indexer.conf</TT
>.</P
></LI
><LI
><P
>Установка программы поиска</P
><P
>Скопируйте <TT
CLASS="FILENAME"
>search.cgi</TT
> в <TT
CLASS="LITERAL"
>cgi-bin</TT
>
директорию вашего веб-сервера или создайте алиас в Apache на поддиректорию <TT
CLASS="FILENAME"
>bin/</TT
>
<SPAN
CLASS="APPLICATION"
>DataparkSearch</SPAN
>. </P
></LI
></OL
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="dpsearch-toolsreq.ru.html"
ACCESSKEY="P"
>&#1055;&#1088;&#1077;&#1076;.</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.ru.html"
ACCESSKEY="H"
>&#1053;&#1072;&#1095;&#1072;&#1083;&#1086;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="dpsearch-installproblem.ru.html"
ACCESSKEY="N"
>&#1057;&#1083;&#1077;&#1076;.</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Инструментарий, необходимый для установки</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="dpsearch-install.ru.html"
ACCESSKEY="U"
>&#1059;&#1088;&#1086;&#1074;&#1077;&#1085;&#1100; &#1074;&#1099;&#1096;&#1077;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Возможные проблемы установки
<A
NAME="AEN504"
></A
></TD
></TR
></TABLE
></DIV
><!--#include virtual="body-after.html"--></BODY
></HTML
>
